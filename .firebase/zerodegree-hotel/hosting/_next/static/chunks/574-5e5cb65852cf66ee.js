"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[574],{5964:(e,t,n)=>{n.d(t,{W1:()=>z,IU:()=>V,Dr:()=>Z,c:()=>W});var r=n(7018),o=n(3201),l=n(2115),a=n(7650),u=n(1292),i=n(6558),s=n(6271),c=n(858),d=n(4608),p=n(5200),m=n(6459),v=n(8553),f=n(5966),b=n(167),I=n(9026),P=n(7666),S=n(3256),y=n(2736),E=n(138),g=n(760),h=n(2572),D=n(9413),_=n(4254),x=n(3854),M=n(4873),C=n(772),B=n(109),F=n(3270),w=n(3593),T=n(6291),k=n(9257),R=n(1563),O=n(3773),U=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(U||{}),N=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(N||{}),A=(e=>(e[e.OpenMenu=0]="OpenMenu",e[e.CloseMenu=1]="CloseMenu",e[e.GoToItem=2]="GoToItem",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterItem=5]="RegisterItem",e[e.UnregisterItem=6]="UnregisterItem",e[e.SetButtonElement=7]="SetButtonElement",e[e.SetItemsElement=8]="SetItemsElement",e))(A||{});function L(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>e,n=null!==e.activeItemIndex?e.items[e.activeItemIndex]:null,r=(0,B.wl)(t(e.items.slice()),e=>e.dataRef.current.domRef.current),o=n?r.indexOf(n):null;return -1===o&&(o=null),{items:r,activeItemIndex:o}}let X={1:e=>1===e.menuState?e:{...e,activeItemIndex:null,menuState:1},0:e=>0===e.menuState?e:{...e,__demoMode:!1,menuState:0},2:(e,t)=>{var n,r,o,l,a;if(1===e.menuState)return e;let u={...e,searchQuery:"",activationTrigger:null!=(n=t.trigger)?n:1,__demoMode:!1};if(t.focus===M.B.Nothing)return{...u,activeItemIndex:null};if(t.focus===M.B.Specific)return{...u,activeItemIndex:e.items.findIndex(e=>e.id===t.id)};if(t.focus===M.B.Previous){let n=e.activeItemIndex;if(null!==n){let l=e.items[n].dataRef.current.domRef,a=(0,M.X)(t,{resolveItems:()=>e.items,resolveActiveIndex:()=>e.activeItemIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled});if(null!==a){let t=e.items[a].dataRef.current.domRef;if((null==(r=l.current)?void 0:r.previousElementSibling)===t.current||(null==(o=t.current)?void 0:o.previousElementSibling)===null)return{...u,activeItemIndex:a}}}}else if(t.focus===M.B.Next){let n=e.activeItemIndex;if(null!==n){let r=e.items[n].dataRef.current.domRef,o=(0,M.X)(t,{resolveItems:()=>e.items,resolveActiveIndex:()=>e.activeItemIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled});if(null!==o){let t=e.items[o].dataRef.current.domRef;if((null==(l=r.current)?void 0:l.nextElementSibling)===t.current||(null==(a=t.current)?void 0:a.nextElementSibling)===null)return{...u,activeItemIndex:o}}}}let i=L(e),s=(0,M.X)(t,{resolveItems:()=>i.items,resolveActiveIndex:()=>i.activeItemIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled});return{...u,...i,activeItemIndex:s}},3:(e,t)=>{let n=""!==e.searchQuery?0:1,r=e.searchQuery+t.value.toLowerCase(),o=(null!==e.activeItemIndex?e.items.slice(e.activeItemIndex+n).concat(e.items.slice(0,e.activeItemIndex+n)):e.items).find(e=>{var t;return(null==(t=e.dataRef.current.textValue)?void 0:t.startsWith(r))&&!e.dataRef.current.disabled}),l=o?e.items.indexOf(o):-1;return -1===l||l===e.activeItemIndex?{...e,searchQuery:r}:{...e,searchQuery:r,activeItemIndex:l,activationTrigger:1}},4:e=>""===e.searchQuery?e:{...e,searchQuery:"",searchActiveItemIndex:null},5:(e,t)=>{let n=L(e,e=>[...e,{id:t.id,dataRef:t.dataRef}]);return{...e,...n}},6:(e,t)=>{let n=L(e,e=>{let n=e.findIndex(e=>e.id===t.id);return -1!==n&&e.splice(n,1),e});return{...e,...n,activationTrigger:1}},7:(e,t)=>e.buttonElement===t.element?e:{...e,buttonElement:t.element},8:(e,t)=>e.itemsElement===t.element?e:{...e,itemsElement:t.element}},Y=(0,l.createContext)(null);function K(e){let t=(0,l.useContext)(Y);if(null===t){let t=Error("<".concat(e," /> is missing a parent <Menu /> component."));throw Error.captureStackTrace&&Error.captureStackTrace(t,K),t}return t}function G(e,t){return(0,F.Y)(t.type,X,e,t)}Y.displayName="MenuContext";let H=l.Fragment,Q=w.Ac.RenderStrategy|w.Ac.Static,j=l.Fragment,q=(0,w.FX)(function(e,t){let{__demoMode:n=!1,...r}=e,o=(0,l.useReducer)(G,{__demoMode:n,menuState:n?0:1,buttonElement:null,itemsElement:null,items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:a,itemsElement:u,buttonElement:i},s]=o,c=(0,S.P)(t);(0,f.j)(0===a,[i,u],(e,t)=>{s({type:1}),(0,B.Bm)(t,B.MZ.Loose)||(e.preventDefault(),null==i||i.focus())});let p=(0,d._)(()=>{s({type:1})}),m=(0,l.useMemo)(()=>({open:0===a,close:p}),[a,p]),v=(0,w.Ci)();return l.createElement(D.St,null,l.createElement(Y.Provider,{value:o},l.createElement(_.El,{value:(0,F.Y)(a,{0:_.Uw.Open,1:_.Uw.Closed})},v({ourProps:{ref:c},theirProps:r,slot:m,defaultTag:H,name:"Menu"}))))}),V=(0,w.FX)(function(e,t){var n;let i=(0,l.useId)(),{id:s="headlessui-menu-button-".concat(i),disabled:c=!1,autoFocus:p=!1,...m}=e,[v,f]=K("Menu.Button"),b=(0,D.TI)(),P=(0,S.P)(t,(0,D.Xc)(),(0,d._)(e=>f({type:7,element:e}))),y=(0,d._)(e=>{switch(e.key){case k.D.Space:case k.D.Enter:case k.D.ArrowDown:e.preventDefault(),e.stopPropagation(),(0,a.flushSync)(()=>f({type:0})),f({type:2,focus:M.B.First});break;case k.D.ArrowUp:e.preventDefault(),e.stopPropagation(),(0,a.flushSync)(()=>f({type:0})),f({type:2,focus:M.B.Last})}}),E=(0,d._)(e=>{e.key===k.D.Space&&e.preventDefault()}),g=(0,d._)(e=>{var t;if((0,x.l)(e.currentTarget))return e.preventDefault();c||(0===v.menuState?((0,a.flushSync)(()=>f({type:1})),null==(t=v.buttonElement)||t.focus({preventScroll:!0})):(e.preventDefault(),f({type:0})))}),{isFocusVisible:h,focusProps:_}=(0,r.o)({autoFocus:p}),{isHovered:C,hoverProps:B}=(0,o.M)({isDisabled:c}),{pressed:F,pressProps:T}=(0,u.Z)({disabled:c}),R=(0,l.useMemo)(()=>({open:0===v.menuState,active:F||0===v.menuState,disabled:c,hover:C,focus:h,autofocus:p}),[v,C,h,F,c,p]),O=(0,w.v6)(b(),{ref:P,id:s,type:(0,I.c)(e,v.buttonElement),"aria-haspopup":"menu","aria-controls":null==(n=v.itemsElement)?void 0:n.id,"aria-expanded":0===v.menuState,disabled:c||void 0,autoFocus:p,onKeyDown:y,onKeyUp:E,onClick:g},_,B,T);return(0,w.Ci)()({ourProps:O,theirProps:m,slot:R,defaultTag:"button",name:"Menu.Button"})}),W=(0,w.FX)(function(e,t){var n,r;let o=(0,l.useId)(),{id:u="headlessui-menu-items-".concat(o),anchor:f,portal:I=!1,modal:y=!0,transition:E=!1,...x}=e,C=(0,D.zn)(f),[F,T]=K("Menu.Items"),[R,U]=(0,D.UF)(C),N=(0,D.G3)(),[A,L]=(0,l.useState)(null),X=(0,S.P)(t,C?R:null,(0,d._)(e=>T({type:8,element:e})),L),Y=(0,b.g)(F.itemsElement);C&&(I=!0);let G=(0,_.O_)(),[H,j]=(0,g.p)(E,A,null!==G?(G&_.Uw.Open)===_.Uw.Open:0===F.menuState);(0,v.O)(H,F.buttonElement,()=>{T({type:1})});let q=!F.__demoMode&&y&&0===F.menuState;(0,P.K)(q,Y);let V=!F.__demoMode&&y&&0===F.menuState;(0,p.v)(V,{allowed:(0,l.useCallback)(()=>[F.buttonElement,F.itemsElement],[F.buttonElement,F.itemsElement])});let W=0!==F.menuState,Z=!(0,i.Y)(W,F.buttonElement)&&H;(0,l.useEffect)(()=>{let e=F.itemsElement;e&&0===F.menuState&&e!==(null==Y?void 0:Y.activeElement)&&e.focus({preventScroll:!0})},[F.menuState,F.itemsElement,Y]),function(e,t){let{container:n,accept:r,walk:o}=t,a=(0,l.useRef)(r),u=(0,l.useRef)(o);(0,l.useEffect)(()=>{a.current=r,u.current=o},[r,o]),(0,m.s)(()=>{if(!n||!e)return;let t=(0,h.T)(n);if(!t)return;let r=a.current,o=u.current,l=Object.assign(e=>r(e),{acceptNode:r}),i=t.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,l,!1);for(;i.nextNode();)o(i.currentNode)},[n,e,a,u])}(0===F.menuState,{container:F.itemsElement,accept:e=>"menuitem"===e.getAttribute("role")?NodeFilter.FILTER_REJECT:e.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT,walk(e){e.setAttribute("role","none")}});let z=(0,s.L)(),J=(0,d._)(e=>{var t,n,r;switch(z.dispose(),e.key){case k.D.Space:if(""!==F.searchQuery)return e.preventDefault(),e.stopPropagation(),T({type:3,value:e.key});case k.D.Enter:if(e.preventDefault(),e.stopPropagation(),T({type:1}),null!==F.activeItemIndex){let{dataRef:e}=F.items[F.activeItemIndex];null==(n=null==(t=e.current)?void 0:t.domRef.current)||n.click()}(0,B.Fh)(F.buttonElement);break;case k.D.ArrowDown:return e.preventDefault(),e.stopPropagation(),T({type:2,focus:M.B.Next});case k.D.ArrowUp:return e.preventDefault(),e.stopPropagation(),T({type:2,focus:M.B.Previous});case k.D.Home:case k.D.PageUp:return e.preventDefault(),e.stopPropagation(),T({type:2,focus:M.B.First});case k.D.End:case k.D.PageDown:return e.preventDefault(),e.stopPropagation(),T({type:2,focus:M.B.Last});case k.D.Escape:e.preventDefault(),e.stopPropagation(),(0,a.flushSync)(()=>T({type:1})),null==(r=F.buttonElement)||r.focus({preventScroll:!0});break;case k.D.Tab:e.preventDefault(),e.stopPropagation(),(0,a.flushSync)(()=>T({type:1})),(0,B.p9)(F.buttonElement,e.shiftKey?B.BD.Previous:B.BD.Next);break;default:1===e.key.length&&(T({type:3,value:e.key}),z.setTimeout(()=>T({type:4}),350))}}),$=(0,d._)(e=>{e.key===k.D.Space&&e.preventDefault()}),ee=(0,l.useMemo)(()=>({open:0===F.menuState}),[F.menuState]),et=(0,w.v6)(C?N():{},{"aria-activedescendant":null===F.activeItemIndex||null==(n=F.items[F.activeItemIndex])?void 0:n.id,"aria-labelledby":null==(r=F.buttonElement)?void 0:r.id,id:u,onKeyDown:J,onKeyUp:$,role:"menu",tabIndex:0===F.menuState?0:void 0,ref:X,style:{...x.style,...U,"--button-width":(0,c.L)(F.buttonElement,!0).width},...(0,g.B)(j)}),en=(0,w.Ci)();return l.createElement(O.ZL,{enabled:!!I&&(e.static||H)},en({ourProps:et,theirProps:x,slot:ee,defaultTag:"div",features:Q,visible:Z,name:"Menu.Items"}))}),Z=(0,w.FX)(function(e,t){let n=(0,l.useId)(),{id:r="headlessui-menu-item-".concat(n),disabled:o=!1,...a}=e,[u,i]=K("Menu.Item"),s=null!==u.activeItemIndex&&u.items[u.activeItemIndex].id===r,c=(0,l.useRef)(null),p=(0,S.P)(t,c);(0,m.s)(()=>{if(!u.__demoMode&&0===u.menuState&&s&&0!==u.activationTrigger)return(0,C.e)().requestAnimationFrame(()=>{var e,t;null==(t=null==(e=c.current)?void 0:e.scrollIntoView)||t.call(e,{block:"nearest"})})},[u.__demoMode,c,s,u.menuState,u.activationTrigger,u.activeItemIndex]);let v=(0,y.q)(c),f=(0,l.useRef)({disabled:o,domRef:c,get textValue(){return v()}});(0,m.s)(()=>{f.current.disabled=o},[f,o]),(0,m.s)(()=>(i({type:5,id:r,dataRef:f}),()=>i({type:6,id:r})),[f,r]);let b=(0,d._)(()=>{i({type:1})}),I=(0,d._)(e=>{if(o)return e.preventDefault();i({type:1}),(0,B.Fh)(u.buttonElement)}),P=(0,d._)(()=>{if(o)return i({type:2,focus:M.B.Nothing});i({type:2,focus:M.B.Specific,id:r})}),g=(0,E.J)(),h=(0,d._)(e=>{g.update(e),!o&&(s||i({type:2,focus:M.B.Specific,id:r,trigger:0}))}),D=(0,d._)(e=>{g.wasMoved(e)&&(o||s||i({type:2,focus:M.B.Specific,id:r,trigger:0}))}),_=(0,d._)(e=>{g.wasMoved(e)&&(o||s&&i({type:2,focus:M.B.Nothing}))}),[x,F]=(0,R.b0)(),[k,O]=(0,T.rU)(),U=(0,l.useMemo)(()=>({active:s,focus:s,disabled:o,close:b}),[s,o,b]),N=(0,w.Ci)();return l.createElement(F,null,l.createElement(O,null,N({ourProps:{id:r,ref:p,role:"menuitem",tabIndex:!0===o?void 0:-1,"aria-disabled":!0===o||void 0,"aria-labelledby":x,"aria-describedby":k,disabled:void 0,onClick:I,onFocus:P,onPointerEnter:h,onMouseEnter:h,onPointerMove:D,onMouseMove:D,onPointerLeave:_,onMouseLeave:_},theirProps:a,slot:U,defaultTag:j,name:"Menu.Item"})))}),z=Object.assign(q,{Button:V,Items:W,Item:Z,Section:(0,w.FX)(function(e,t){let[n,r]=(0,R.b0)(),o=(0,w.Ci)();return l.createElement(r,null,o({ourProps:{ref:t,"aria-labelledby":n,role:"group"},theirProps:e,slot:{},defaultTag:"div",name:"Menu.Section"}))}),Heading:(0,w.FX)(function(e,t){let n=(0,l.useId)(),{id:r="headlessui-menu-heading-".concat(n),...o}=e,a=(0,R.vd)();(0,m.s)(()=>a.register(r),[r,a.register]);let u={id:r,ref:t,role:"presentation",...a.props};return(0,w.Ci)()({ourProps:u,theirProps:o,slot:{},defaultTag:"header",name:"Menu.Heading"})}),Separator:(0,w.FX)(function(e,t){return(0,w.Ci)()({ourProps:{ref:t,role:"separator"},theirProps:e,slot:{},defaultTag:"div",name:"Menu.Separator"})})})},607:(e,t,n)=>{n.d(t,{AM:()=>z,QT:()=>Z,ut:()=>q});var r=n(7018),o=n(3201),l=n(2115),a=n(1292),u=n(858),i=n(4608),s=n(2151),c=n(6459),d=n(1743),p=n(8553),m=n(5966),v=n(167),f=n(9026),b=n(1327),I=n(7666),P=n(3256),S=n(5663),y=n(760),E=n(7337),g=n(9413),h=n(887),D=n(4254),_=n(3854),x=n(109),M=n(3270),C=n(2572),B=n(3593),F=n(9257),w=n(3773),T=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(T||{}),k=(e=>(e[e.TogglePopover=0]="TogglePopover",e[e.ClosePopover=1]="ClosePopover",e[e.SetButton=2]="SetButton",e[e.SetButtonId=3]="SetButtonId",e[e.SetPanel=4]="SetPanel",e[e.SetPanelId=5]="SetPanelId",e))(k||{});let R={0:e=>({...e,popoverState:(0,M.Y)(e.popoverState,{0:1,1:0}),__demoMode:!1}),1:e=>1===e.popoverState?e:{...e,popoverState:1,__demoMode:!1},2:(e,t)=>e.button===t.button?e:{...e,button:t.button},3:(e,t)=>e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId},4:(e,t)=>e.panel===t.panel?e:{...e,panel:t.panel},5:(e,t)=>e.panelId===t.panelId?e:{...e,panelId:t.panelId}},O=(0,l.createContext)(null);function U(e){let t=(0,l.useContext)(O);if(null===t){let t=Error("<".concat(e," /> is missing a parent <Popover /> component."));throw Error.captureStackTrace&&Error.captureStackTrace(t,U),t}return t}O.displayName="PopoverContext";let N=(0,l.createContext)(null);function A(e){let t=(0,l.useContext)(N);if(null===t){let t=Error("<".concat(e," /> is missing a parent <Popover /> component."));throw Error.captureStackTrace&&Error.captureStackTrace(t,A),t}return t}N.displayName="PopoverAPIContext";let L=(0,l.createContext)(null);function X(){return(0,l.useContext)(L)}L.displayName="PopoverGroupContext";let Y=(0,l.createContext)(null);function K(e,t){return(0,M.Y)(t.type,R,e,t)}Y.displayName="PopoverPanelContext";let G=B.Ac.RenderStrategy|B.Ac.Static;function H(e,t){let n=(0,l.useId)(),{id:r="headlessui-popover-backdrop-".concat(n),transition:o=!1,...a}=e,[{popoverState:u},s]=U("Popover.Backdrop"),[c,d]=(0,l.useState)(null),p=(0,P.P)(t,d),m=(0,D.O_)(),[v,f]=(0,y.p)(o,c,null!==m?(m&D.Uw.Open)===D.Uw.Open:0===u),b=(0,i._)(e=>{if((0,_.l)(e.currentTarget))return e.preventDefault();s({type:1})}),I=(0,l.useMemo)(()=>({open:0===u}),[u]),S={ref:p,id:r,"aria-hidden":!0,onClick:b,...(0,y.B)(f)};return(0,B.Ci)()({ourProps:S,theirProps:a,slot:I,defaultTag:"div",features:G,visible:v,name:"Popover.Backdrop"})}let Q=B.Ac.RenderStrategy|B.Ac.Static,j=(0,B.FX)(function(e,t){var n;let{__demoMode:r=!1,...o}=e,a=(0,l.useRef)(null),u=(0,P.P)(t,(0,P.a)(e=>{a.current=e})),c=(0,l.useRef)([]),p=(0,l.useReducer)(K,{__demoMode:r,popoverState:r?0:1,buttons:c,button:null,buttonId:null,panel:null,panelId:null,beforePanelSentinel:(0,l.createRef)(),afterPanelSentinel:(0,l.createRef)(),afterButtonSentinel:(0,l.createRef)()}),[{popoverState:f,button:I,buttonId:S,panel:y,panelId:h,beforePanelSentinel:_,afterPanelSentinel:C,afterButtonSentinel:F},T]=p,k=(0,v.g)(null!=(n=a.current)?n:I),R=(0,l.useMemo)(()=>{if(!I||!y)return!1;for(let e of document.querySelectorAll("body > *"))if(Number(null==e?void 0:e.contains(I))^Number(null==e?void 0:e.contains(y)))return!0;let e=(0,x.iq)(),t=e.indexOf(I),n=(t+e.length-1)%e.length,r=(t+1)%e.length,o=e[n],l=e[r];return!y.contains(o)&&!y.contains(l)},[I,y]),U=(0,d.Y)(S),A=(0,d.Y)(h),L=(0,l.useMemo)(()=>({buttonId:U,panelId:A,close:()=>T({type:1})}),[U,A,T]),G=X(),H=null==G?void 0:G.registerPopover,Q=(0,i._)(()=>{var e;return null!=(e=null==G?void 0:G.isFocusWithinPopoverGroup())?e:(null==k?void 0:k.activeElement)&&((null==I?void 0:I.contains(k.activeElement))||(null==y?void 0:y.contains(k.activeElement)))});(0,l.useEffect)(()=>null==H?void 0:H(L),[H,L]);let[j,q]=(0,w.k2)(),V=(0,b.xA)(I),W=(0,b.iq)({mainTreeNode:V,portals:j,defaultContainers:[I,y]});(0,s.M)(null==k?void 0:k.defaultView,"focus",e=>{var t,n,r,o,l,a;e.target!==window&&e.target instanceof HTMLElement&&0===f&&(Q()||I&&y&&(W.contains(e.target)||null!=(n=null==(t=_.current)?void 0:t.contains)&&n.call(t,e.target)||null!=(o=null==(r=C.current)?void 0:r.contains)&&o.call(r,e.target)||null!=(a=null==(l=F.current)?void 0:l.contains)&&a.call(l,e.target)||T({type:1})))},!0),(0,m.j)(0===f,W.resolveContainers,(e,t)=>{T({type:1}),(0,x.Bm)(t,x.MZ.Loose)||(e.preventDefault(),null==I||I.focus())});let Z=(0,i._)(e=>{T({type:1});let t=e?e instanceof HTMLElement?e:"current"in e&&e.current instanceof HTMLElement?e.current:I:I;null==t||t.focus()}),z=(0,l.useMemo)(()=>({close:Z,isPortalled:R}),[Z,R]),J=(0,l.useMemo)(()=>({open:0===f,close:Z}),[f,Z]),$=(0,B.Ci)();return l.createElement(b.H5,{node:V},l.createElement(g.St,null,l.createElement(Y.Provider,{value:null},l.createElement(O.Provider,{value:p},l.createElement(N.Provider,{value:z},l.createElement(E.e,{value:Z},l.createElement(D.El,{value:(0,M.Y)(f,{0:D.Uw.Open,1:D.Uw.Closed})},l.createElement(q,null,$({ourProps:{ref:u},theirProps:o,slot:J,defaultTag:"div",name:"Popover"})))))))))}),q=(0,B.FX)(function(e,t){let n=(0,l.useId)(),{id:u="headlessui-popover-button-".concat(n),disabled:s=!1,autoFocus:c=!1,...d}=e,[p,m]=U("Popover.Button"),{isPortalled:b}=A("Popover.Button"),I=(0,l.useRef)(null),y="headlessui-focus-sentinel-".concat((0,l.useId)()),E=X(),D=null==E?void 0:E.closeOthers,C=null!==(0,l.useContext)(Y);(0,l.useEffect)(()=>{if(!C)return m({type:3,buttonId:u}),()=>{m({type:3,buttonId:null})}},[C,u,m]);let[w]=(0,l.useState)(()=>Symbol()),T=(0,P.P)(I,t,(0,g.Xc)(),(0,i._)(e=>{if(!C){if(e)p.buttons.current.push(w);else{let e=p.buttons.current.indexOf(w);-1!==e&&p.buttons.current.splice(e,1)}p.buttons.current.length>1&&console.warn("You are already using a <Popover.Button /> but only 1 <Popover.Button /> is supported."),e&&m({type:2,button:e})}})),k=(0,P.P)(I,t),R=(0,v.g)(I),O=(0,i._)(e=>{var t,n,r;if(C){if(1===p.popoverState)return;switch(e.key){case F.D.Space:case F.D.Enter:e.preventDefault(),null==(n=(t=e.target).click)||n.call(t),m({type:1}),null==(r=p.button)||r.focus()}}else switch(e.key){case F.D.Space:case F.D.Enter:e.preventDefault(),e.stopPropagation(),1===p.popoverState&&(null==D||D(p.buttonId)),m({type:0});break;case F.D.Escape:if(0!==p.popoverState)return null==D?void 0:D(p.buttonId);if(!I.current||null!=R&&R.activeElement&&!I.current.contains(R.activeElement))return;e.preventDefault(),e.stopPropagation(),m({type:1})}}),N=(0,i._)(e=>{C||e.key===F.D.Space&&e.preventDefault()}),L=(0,i._)(e=>{var t,n;(0,_.l)(e.currentTarget)||s||(C?(m({type:1}),null==(t=p.button)||t.focus()):(e.preventDefault(),e.stopPropagation(),1===p.popoverState&&(null==D||D(p.buttonId)),m({type:0}),null==(n=p.button)||n.focus()))}),K=(0,i._)(e=>{e.preventDefault(),e.stopPropagation()}),{isFocusVisible:G,focusProps:H}=(0,r.o)({autoFocus:c}),{isHovered:Q,hoverProps:j}=(0,o.M)({isDisabled:s}),{pressed:q,pressProps:V}=(0,a.Z)({disabled:s}),W=0===p.popoverState,Z=(0,l.useMemo)(()=>({open:W,active:q||W,disabled:s,hover:Q,focus:G,autofocus:c}),[W,Q,G,q,s,c]),z=(0,f.c)(e,p.button),J=C?(0,B.v6)({ref:k,type:z,onKeyDown:O,onClick:L,disabled:s||void 0,autoFocus:c},H,j,V):(0,B.v6)({ref:T,id:p.buttonId,type:z,"aria-expanded":0===p.popoverState,"aria-controls":p.panel?p.panelId:void 0,disabled:s||void 0,autoFocus:c,onKeyDown:O,onKeyUp:N,onClick:L,onMouseDown:K},H,j,V),$=(0,S.u)(),ee=(0,i._)(()=>{let e=p.panel;e&&(0,M.Y)($.current,{[S.O.Forwards]:()=>(0,x.CU)(e,x.BD.First),[S.O.Backwards]:()=>(0,x.CU)(e,x.BD.Last)})===x.Me.Error&&(0,x.CU)((0,x.iq)().filter(e=>"true"!==e.dataset.headlessuiFocusGuard),(0,M.Y)($.current,{[S.O.Forwards]:x.BD.Next,[S.O.Backwards]:x.BD.Previous}),{relativeTo:p.button})}),et=(0,B.Ci)();return l.createElement(l.Fragment,null,et({ourProps:J,theirProps:d,slot:Z,defaultTag:"button",name:"Popover.Button"}),W&&!C&&b&&l.createElement(h.j,{id:y,ref:p.afterButtonSentinel,features:h.u.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:ee}))}),V=(0,B.FX)(H),W=(0,B.FX)(H),Z=(0,B.FX)(function(e,t){let n=(0,l.useId)(),{id:r="headlessui-popover-panel-".concat(n),focus:o=!1,anchor:a,portal:s=!1,modal:d=!1,transition:m=!1,...f}=e,[b,E]=U("Popover.Panel"),{close:_,isPortalled:C}=A("Popover.Panel"),T="headlessui-focus-sentinel-before-".concat(n),k="headlessui-focus-sentinel-after-".concat(n),R=(0,l.useRef)(null),O=(0,g.zn)(a),[L,X]=(0,g.UF)(O),K=(0,g.G3)();O&&(s=!0);let[G,H]=(0,l.useState)(null),j=(0,P.P)(R,t,O?L:null,(0,i._)(e=>E({type:4,panel:e})),H),q=(0,v.g)(R);(0,c.s)(()=>(E({type:5,panelId:r}),()=>{E({type:5,panelId:null})}),[r,E]);let V=(0,D.O_)(),[W,Z]=(0,y.p)(m,G,null!==V?(V&D.Uw.Open)===D.Uw.Open:0===b.popoverState);(0,p.O)(W,b.button,()=>{E({type:1})});let z=!b.__demoMode&&d&&W;(0,I.K)(z,q);let J=(0,i._)(e=>{var t;if(e.key===F.D.Escape){if(0!==b.popoverState||!R.current||null!=q&&q.activeElement&&!R.current.contains(q.activeElement))return;e.preventDefault(),e.stopPropagation(),E({type:1}),null==(t=b.button)||t.focus()}});(0,l.useEffect)(()=>{var t;e.static||1===b.popoverState&&(null==(t=e.unmount)||t)&&E({type:4,panel:null})},[b.popoverState,e.unmount,e.static,E]),(0,l.useEffect)(()=>{if(b.__demoMode||!o||0!==b.popoverState||!R.current)return;let e=null==q?void 0:q.activeElement;R.current.contains(e)||(0,x.CU)(R.current,x.BD.First)},[b.__demoMode,o,R.current,b.popoverState]);let $=(0,l.useMemo)(()=>({open:0===b.popoverState,close:_}),[b.popoverState,_]),ee=(0,B.v6)(O?K():{},{ref:j,id:r,onKeyDown:J,onBlur:o&&0===b.popoverState?e=>{var t,n,r,o,l;let a=e.relatedTarget;a&&R.current&&(null!=(t=R.current)&&t.contains(a)||(E({type:1}),(null!=(r=null==(n=b.beforePanelSentinel.current)?void 0:n.contains)&&r.call(n,a)||null!=(l=null==(o=b.afterPanelSentinel.current)?void 0:o.contains)&&l.call(o,a))&&a.focus({preventScroll:!0})))}:void 0,tabIndex:-1,style:{...f.style,...X,"--button-width":(0,u.L)(b.button,!0).width},...(0,y.B)(Z)}),et=(0,S.u)(),en=(0,i._)(()=>{let e=R.current;e&&(0,M.Y)(et.current,{[S.O.Forwards]:()=>{var t;(0,x.CU)(e,x.BD.First)===x.Me.Error&&(null==(t=b.afterPanelSentinel.current)||t.focus())},[S.O.Backwards]:()=>{var e;null==(e=b.button)||e.focus({preventScroll:!0})}})}),er=(0,i._)(()=>{let e=R.current;e&&(0,M.Y)(et.current,{[S.O.Forwards]:()=>{if(!b.button)return;let e=(0,x.iq)(),t=e.indexOf(b.button),n=e.slice(0,t+1),r=[...e.slice(t+1),...n];for(let e of r.slice())if("true"===e.dataset.headlessuiFocusGuard||null!=G&&G.contains(e)){let t=r.indexOf(e);-1!==t&&r.splice(t,1)}(0,x.CU)(r,x.BD.First,{sorted:!1})},[S.O.Backwards]:()=>{var t;(0,x.CU)(e,x.BD.Previous)===x.Me.Error&&(null==(t=b.button)||t.focus())}})}),eo=(0,B.Ci)();return l.createElement(D.$x,null,l.createElement(Y.Provider,{value:r},l.createElement(N.Provider,{value:{close:_,isPortalled:C}},l.createElement(w.ZL,{enabled:!!s&&(e.static||W)},W&&C&&l.createElement(h.j,{id:T,ref:b.beforePanelSentinel,features:h.u.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:en}),eo({ourProps:ee,theirProps:f,slot:$,defaultTag:"div",features:Q,visible:W,name:"Popover.Panel"}),W&&C&&l.createElement(h.j,{id:k,ref:b.afterPanelSentinel,features:h.u.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:er})))))}),z=Object.assign(j,{Button:q,Backdrop:W,Overlay:V,Panel:Z,Group:(0,B.FX)(function(e,t){let n=(0,l.useRef)(null),r=(0,P.P)(n,t),[o,a]=(0,l.useState)([]),u=(0,i._)(e=>{a(t=>{let n=t.indexOf(e);if(-1!==n){let e=t.slice();return e.splice(n,1),e}return t})}),s=(0,i._)(e=>(a(t=>[...t,e]),()=>u(e))),c=(0,i._)(()=>{var e;let t=(0,C.T)(n);if(!t)return!1;let r=t.activeElement;return!!(null!=(e=n.current)&&e.contains(r))||o.some(e=>{var n,o;return(null==(n=t.getElementById(e.buttonId.current))?void 0:n.contains(r))||(null==(o=t.getElementById(e.panelId.current))?void 0:o.contains(r))})}),d=(0,i._)(e=>{for(let t of o)t.buttonId.current!==e&&t.close()}),p=(0,l.useMemo)(()=>({registerPopover:s,unregisterPopover:u,isFocusWithinPopoverGroup:c,closeOthers:d}),[s,u,c,d]),m=(0,l.useMemo)(()=>({}),[]),v=(0,B.Ci)();return l.createElement(b.H5,null,l.createElement(L.Provider,{value:p},v({ourProps:{ref:r},theirProps:e,slot:m,defaultTag:"div",name:"Popover.Group"})))})})}}]);